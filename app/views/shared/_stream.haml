-#   Copyright (c) 2010, Diaspora Inc.  This file is
-#   licensed under the Affero General Public License version 3 or later.  See
-#   the COPYRIGHT file.
:javascript
  ///////////////////////by star/////////////////////////////
  $(document).ready(function() {
    $(".like_this").live("click", function(){
      node = $(this).next();
      $.ajax({
        type: "PUT",
        data: {"type":"like"},
        url: "/p/" + $(this).attr("data"),
        success: function (data) {
          if (data == "exist"){
            alert("You have vote this post");
          }
          else{
            node.html("").append("("+data+")");
          }
        }
      });
    });

    $(".dislike_this").live("click", function(){
      node = $(this).next();
      $.ajax({
        type: "PUT",
        data: {"type":"dislike"},
        url: "/p/" + $(this).attr("data"),
        success: function (data) {
          if (data == "exist"){
            alert("You have vote this post");
          }
          else{
            node.html("").append("("+data+")");
          }
        }
      });
    });

    $(".like-count").live("click", function(){
      $(this).parent().next().removeClass("hidden");
    });

    $(".dislike-count").live("click",function(){
      $(this).parent().next().next().removeClass("hidden");
    });
  });
  /////////////////////// end ///////////////////////////////////////

- for post_hash in posts
  = render 'shared/stream_element', post_hash.merge(:aspects => @aspects, :commenting_disabled => defined?(@commenting_disabled))
